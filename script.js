const exerciseInput=document.getElementById("exerciseTime"),restInput=document.getElementById("restTime"),setsInput=document.getElementById("sets"),phaseDisplay=document.getElementById("phase"),timerDisplay=document.getElementById("timer"),startBtn=document.getElementById("startBtn"),pauseBtn=document.getElementById("pauseBtn"),resetBtn=document.getElementById("resetBtn");let exerciseTime,restTime,totalSets,currentSet=0,inExercise=!0,timerInterval,remainingTime,isPaused=!1;function formatTime(e){let t=Math.floor(e/60).toString().padStart(2,"0"),i=(e%60).toString().padStart(2,"0");return`${t}:${i}`}function updateTimer(){if(remainingTime>0)remainingTime--,timerDisplay.textContent=formatTime(remainingTime);else if(clearInterval(timerInterval),inExercise)inExercise=!1,phaseDisplay.textContent=`Repos - S\xe9rie ${currentSet} / ${totalSets}`,remainingTime=restTime,timerDisplay.textContent=formatTime(remainingTime),timerInterval=setInterval(updateTimer,1e3);else{if(++currentSet>totalSets){phaseDisplay.textContent="Termin\xe9 ! ",timerDisplay.textContent="00:00",startBtn.disabled=!1,pauseBtn.disabled=!0,resetBtn.disabled=!1;return}inExercise=!0,phaseDisplay.textContent=`Exercice - S\xe9rie ${currentSet} / ${totalSets}`,remainingTime=exerciseTime,timerDisplay.textContent=formatTime(remainingTime),timerInterval=setInterval(updateTimer,1e3)}}startBtn.addEventListener("click",()=>{if(exerciseTime=parseInt(exerciseInput.value,10),restTime=parseInt(restInput.value,10),totalSets=parseInt(setsInput.value,10),isNaN(exerciseTime)||isNaN(restTime)||isNaN(totalSets)||exerciseTime<=0||restTime<=0||totalSets<=0){alert("Merci de saisir des nombres positifs valides.");return}currentSet=1,inExercise=!0,remainingTime=exerciseTime,phaseDisplay.textContent=`Exercice - S\xe9rie ${currentSet} / ${totalSets}`,timerDisplay.textContent=formatTime(remainingTime),startBtn.disabled=!0,pauseBtn.disabled=!1,resetBtn.disabled=!1,timerInterval=setInterval(updateTimer,1e3),isPaused=!1}),pauseBtn.addEventListener("click",()=>{isPaused?(timerInterval=setInterval(updateTimer,1e3),pauseBtn.textContent="Pause",isPaused=!1):(clearInterval(timerInterval),pauseBtn.textContent="Reprendre",isPaused=!0)}),resetBtn.addEventListener("click",()=>{clearInterval(timerInterval),phaseDisplay.textContent="Pr\xeat ?",timerDisplay.textContent="00:00",startBtn.disabled=!1,pauseBtn.disabled=!0,pauseBtn.textContent="Pause",resetBtn.disabled=!0,isPaused=!1});